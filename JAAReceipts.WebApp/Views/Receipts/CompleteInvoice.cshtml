@model JAAReceipts.WebApp.ViewModel.ReceiptViewModel

@{
    ViewBag.Title = "CompleteInvoice";
}

<h2>Complete</h2>

<div>
    <h4></h4>
    <hr />
    <dl class="dl-horizontal">

        <dt>
            @Html.DisplayNameFor(model => model.Receipt.ReceivedFrom)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Receipt.ReceivedFrom)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Receipt.ReceiptNumber)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Receipt.ReceiptNumber)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Receipt.Date)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Receipt.Date)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.Receipt.TotalAmount)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Receipt.TotalAmount)
        </dd>

        <dt>
            @*@Html.DisplayNameFor(model => model.Receipt.PaymentType.Description)*@
            Payment Type
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Receipt.PaymentType.Description)

            @if (Model.Receipt.PaymentTypeID == 2 || Model.Receipt.PaymentTypeID == 3 || Model.Receipt.PaymentTypeID == 4)
            {
                @Html.DisplayFor(model => model.Receipt.LastFourDigits)
            }


            @if (Model.Receipt.PaymentTypeID == 7 || Model.Receipt.PaymentTypeID == 8)
            {
                @Html.DisplayFor(model => model.Receipt.ChequeNumber)
            }

        </dd>

        @*<dt>
                @Html.DisplayNameFor(model => model.Receipt.AdditionalInfo)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Receipt.AdditionalInfo)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Receipt.ChequeNumber)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Receipt.ChequeNumber)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.Receipt.LastFourDigits)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.Receipt.LastFourDigits)
            </dd>*@

    </dl>

    <table class="table">
        <tr>
            <th>
                @* @Html.DisplayNameFor(model => model.ItemsOnReceipt)*@
                Invoice Number
            </th>

            <th>
                Details
            </th>

            @*<th>
                Amount
            </th>*@

            @*<th></th>*@
        </tr>


        @foreach (var item in Model.Receipt.ReceiptItems)
        {

            <tr>
                <td>
                    @*@Html.DisplayFor(modelItem => item.Service.Description)*@
                    @Html.DisplayFor(modelItem => item.AdditionalInformation)
                </td>

                <th>
                    @Html.DisplayFor(modelItem => item.Service.Description)
                </th>

                @*<td>
                    @Html.DisplayFor(modelItem => item.Amount)
                </td>*@

            </tr>
        }

    </table>


    <div class="col-md-4">
        <div class="form-group">
            @Html.Label("Email Address")
            @Html.TextBox("Enter Email", "Enter Email", new { id = "txtEmailAddress", @class = "form-control" })
            @*@Html.ActionLink("Send Email", "Email")*@
        </div>
    </div>

    <div class="form-group" style="visibility: hidden; ">

        @Html.EditorFor(model => model.Receipt.ReceiptID, new { htmlAttributes = new { @class = "form-control", @id = "txtReceiptID", @name = "txtReceiptID" } })

        @Html.TextBox("40", "40", new { id = "txtReceiptTypeId", @class = "form-control" })



    </div>

    <div class="form-group">
        <div class="col-md-offset-2 col-md-10">
            <input type="button" id="btnEmail" value="Email" class="btn btn-default" onclick="Email()" />
        </div>
    </div>

</div>
<p>
    @Html.ActionLink("Edit", "Edit", new { id = Model.Receipt.ReceiptID }) |
    @Html.ActionLink("Back to List", "Index")
</p>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
@Scripts.Render("~/bundles/jquery")